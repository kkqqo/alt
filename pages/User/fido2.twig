<script src="/auth/src/WebAuthn.js"></script>
{% verbatim %}
<script>
    var vm = new Vue({
        created() {
            this.$http.get("User/fido2/getCredential").then(resp => {
                var webn = new WebAuthn();
                webn.register(resp.data.data).then(resp => {
                    this.register(resp);
                }).catch(resp => {
                    alert(resp.message);
                });
            });
        }, methods: {
            register(info) {
                this.$http.post("User/fido2", info).then(resp => {
                    localStorage.setItem("app.fido2", resp.data.username);
                });
            }
        }

    });

</script>
{% endverbatim %}