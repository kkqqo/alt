!function(e){var r={};function t(o){if(r[o])return r[o].exports;var n=r[o]={i:o,l:!1,exports:{}};return e[o].call(n.exports,n,n.exports,t),n.l=!0,n.exports}t.m=e,t.c=r,t.d=function(e,r,o){t.o(e,r)||Object.defineProperty(e,r,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,r){if(1&r&&(e=t(e)),8&r)return e;if(4&r&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&r&&"string"!=typeof e)for(var n in e)t.d(o,n,function(r){return e[r]}.bind(null,n));return o},t.n=function(e){var r=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(r,"a",r),r},t.o=function(e,r){return Object.prototype.hasOwnProperty.call(e,r)},t.p="",t(t.s=283)}({283:function(e,r){console.log("login.js");var t=window.Vue;t.use(VueLocalStorage);var o=window.$;new t({el:"#app",data:{username:"",password:"",code:"",message:"Sign in to start your session",error:!1},created:function(){var e=this;"credentials"in navigator&&navigator.credentials.get({password:!0}).then(function(r){r&&e.login(r.id,r.password)})},mounted:function(){var e=this;o(this.$refs.rememberMe).iCheck({checkboxClass:"icheckbox_square-blue",radioClass:"iradio_square-blue",increaseArea:"20%"}),o(this.$refs.rememberMe).on("ifChecked",function(){e.$localStorage.set("app.remember_me",!0)}),o(this.$refs.rememberMe).on("ifUnchecked",function(){e.$localStorage.set("app.remember_me",!1)}),"true"==this.$localStorage.get("app.remember_me")&&(this.username=this.$localStorage.get("app.username"),o(this.$refs.rememberMe).iCheck("check"),o(this.$refs.rememberMe).iCheck("update"))},methods:{login:function(e,r){var t=this;this.$http.post("System/login",{username:e,password:r,code:this.code}).then(function(r){if(200==r.data.code){"true"==t.$localStorage.get("app.remember_me")&&t.$localStorage.set("app.username",e);var o=t.$refs.redirect.value;""!=o?window.self.location=o:window.self.location.reload()}else t.message=r.data.error.message,t.error=!0})},signIn:function(){return""==this.username?(this.error=!0,void(this.message="Please input username")):""==this.password?(this.error=!0,void(this.message="Please input password")):void this.login(this.username,this.password)},forgetPassword:function(){var e=bootbox.dialog({title:"Forget password",message:o("#forget_dialog").html()}).on("shown.bs.modal",function(){o(this).find("form").on("submit",function(){return o(this).ajaxSubmit(function(r){e.modal("hide"),r.error?bootbox.alert(r.error.message):bootbox.alert("Password sent to your email if information correct")}),!1})})}}})}});